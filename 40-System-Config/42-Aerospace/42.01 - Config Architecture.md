---
id: 42.01
aliases: []
tags: []
type: note
---

# Config Architecture

---
date: 2026-01-16
type: system-config
status: active
version: 2.2
tags:
  - devops
  - aerospace
  - workflow
  - automation
---

# ðŸ›ï¸ Workstation Architecture v2.2

## 1. Design Philosophy
This system follows **Kelsey Hightowerâ€™s principles** of simplicity and automation. It transforms the Mac Mini into a deterministic DevOps environment where every tool has a fixed spatial address.

* **Frictionless:** Zero manual window management.
* **Deterministic:** State is enforced by code (`aerospace.toml`).
* **Layered Navigation:** Separation of concerns between OS (Alt) and Editor (Ctrl).

---

## 2. The 4 Pillars (Workspace Map)

We utilize **Aerospace** to enforce a tiled grid layout.

| WS | Mode | Application(s) | Role |
| :--- | :--- | :--- | :--- |
| **1** | **Engineering** | `Ghostty`, `Docker` | The core DevOps Lab. Build, Ship, Run. |
| **2** | **Chrome** | `Google Chrome` | Research, Documentation, Cloud Consoles. |
| **3** | **Discord** | `Discord` | Communication & Community. |
| **4** | **System** | `Finder`, `Settings` | OS Configuration & File Management. |

---

## 3. Automation Pipeline

### Startup Sequence
To resolve the "Startup Race Condition" (apps loading before window manager), we use a custom orchestrator.

* **Script:** `~/dotfiles/scripts/startup-sequence.sh`
* **Trigger:** `DevOps Boot.app` (Login Item)
* **Logic:**
    1.  Boot **Aerospace**.
    2.  `Sleep 5` (Wait for grid initialization).
    3.  Launch **Chrome** (Snaps to WS 2).
    4.  Launch **Discord** (Snaps to WS 3).
    5.  Launch **Finder** (`open ~` -> Snaps to WS 4).

### Visual Architecture (Mermaid)

```mermaid
graph TD
    A[Boot macOS] --> B[DevOps Boot.app]
    B --> C{Aerospace Ready?}
    C -- Wait 5s --> D[Initialize Grid]
    D --> E[Launch Chrome]
    D --> F[Launch Discord]
    D --> G[Launch Finder]
    E -->|Rule Match| W2[Workspace 2]
    F -->|Rule Match| W3[Workspace 3]
    G -->|Rule Match| W4[Workspace 4]

Context,Keys,Action
System (Aerospace),Alt + h/j/k/l,Move focus between Windows.
System (Aerospace),Alt + 1/2/3/4,Teleport to Workspace.
Editor (LazyVim),Ctrl + h/j/k/l,Move focus between Code Splits.

## Configuration Source
* **Aerospace:** `~/.config/aerospace/aerospace.toml`
* **LazyVim:** `~/.config/nvim/lua/config/keymaps.lua`
* **Script:** `~/dotfiles/scripts/startup-sequence.sh`
